<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    Cool!

    <script src="bower_components/pegjs/peg-0.9.0.js"></script>

    <!--
    mua 10k VND gia 23k
    ban 10k VND gia 23k
    ban 10k VND gia 23k
     -->
    <script id="grammar" type="peg">
    start
        = action:action _ amount:number _ symbol:symbol _ "gia" _ price:number
        {
            return {
                action: action,
                amount: amount,
                symbol: symbol,
                price: price,
            }
        }

    action
        = "mua" / "ban"

    symbol
        = "VND" / "ACB"

    number
        = integer:integer "k" { return integer * 1000; }
        / integer

    integer "integer"
        = digits:[0-9]+ { return parseInt(digits.join(""), 10); }

    _ "whitespace" = [ \t\n\r]*
    </script>

    <script>
        var grammar = document.getElementById("grammar").innerHTML;
        var parser = PEG.buildParser(grammar);
    </script>
</body>
</html>
